
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pkgcheck.base module &#8212; pkgcheck master documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pkgcheck master documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pkgcheck.base">
<span id="pkgcheck-base-module"></span><h1>pkgcheck.base module<a class="headerlink" href="#module-pkgcheck.base" title="Permalink to this headline">¶</a></h1>
<p>Core classes and interfaces.</p>
<p>This defines a couple of standard feed types and scopes. Currently
feed types are strings and scopes are integers, but you should use the
symbolic names wherever possible (everywhere except for adding a new
feed type) since this might change in the future. Scopes are integers,
but do not rely on that either.</p>
<p>Feed types have to match exactly. Scopes are ordered: they define a
minimally accepted scope.</p>
<dl class="class">
<dt id="pkgcheck.base.Addon">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">Addon</code><span class="sig-paren">(</span><em class="sig-param">options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Addon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Addon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for extra functionality for pkgcheck other than a check.</p>
<p>The checkers can depend on one or more of these. They will get
called at various points where they can extend pkgcheck (if any
active checks depend on the addon).</p>
<p>These methods are not part of the checker interface because that
would mean addon functionality shared by checkers would run twice.
They are not plugins because they do not do anything useful if no
checker depending on them is active.</p>
<p>This interface is not finished. Expect it to grow more methods
(but if not overridden they will be no-ops).</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><a class="reference internal" href="pkgcheck.addons.html#pkgcheck.addons.ProfileAddon.required_addons" title="pkgcheck.addons.ProfileAddon.required_addons"><strong>required_addons</strong></a> – sequence of addons this one depends on.</p>
</dd>
</dl>
<dl class="method">
<dt id="pkgcheck.base.Addon.check_args">
<em class="property">static </em><code class="sig-name descname">check_args</code><span class="sig-paren">(</span><em class="sig-param">parser</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Addon.check_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Addon.check_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocess the argparse values.</p>
<p>Should raise C{argparse.ArgumentError} on failure.</p>
<p>This is only called for addons that are enabled, but before
they are instantiated.</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.Addon.mangle_argparser">
<em class="property">static </em><code class="sig-name descname">mangle_argparser</code><span class="sig-paren">(</span><em class="sig-param">parser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Addon.mangle_argparser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Addon.mangle_argparser" title="Permalink to this definition">¶</a></dt>
<dd><p>Add extra options and/or groups to the argparser.</p>
<p>This hook is always triggered, even if the checker is not
activated (because it runs before the commandline is parsed).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parser</strong> – an C{argparse.ArgumentParser} instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pkgcheck.base.Addon.required_addons">
<code class="sig-name descname">required_addons</code><em class="property"> = ()</em><a class="headerlink" href="#pkgcheck.base.Addon.required_addons" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.Blacklist">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">Blacklist</code><span class="sig-paren">(</span><em class="sig-param">patterns</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Blacklist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pkgcheck.base._CheckSet</span></code></p>
<p>Only run checks not matching any of the provided patterns.</p>
<dl class="method">
<dt id="pkgcheck.base.Blacklist.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param">checks</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Blacklist.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Blacklist.filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.Cache">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">Cache</code><a class="reference internal" href="../_modules/pkgcheck/base.html#Cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mixin for data caches.</p>
</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.CacheData">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">CacheData</code><a class="reference internal" href="../_modules/pkgcheck/base.html#CacheData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CacheData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>Cache registry data.</p>
<dl class="method">
<dt id="pkgcheck.base.CacheData.file">
<em class="property">property </em><code class="sig-name descname">file</code><a class="headerlink" href="#pkgcheck.base.CacheData.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CacheData.type">
<em class="property">property </em><code class="sig-name descname">type</code><a class="headerlink" href="#pkgcheck.base.CacheData.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CacheData.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#pkgcheck.base.CacheData.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.CachedAddon">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">CachedAddon</code><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mixin for addon classes that create/use data caches.</p>
<dl class="attribute">
<dt id="pkgcheck.base.CachedAddon.cache">
<code class="sig-name descname">cache</code><em class="property"> = None</em><a class="headerlink" href="#pkgcheck.base.CachedAddon.cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.cache_dir">
<em class="property">static </em><code class="sig-name descname">cache_dir</code><span class="sig-paren">(</span><em class="sig-param">repo</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cache directory for a given repository.</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.cache_file">
<code class="sig-name descname">cache_file</code><span class="sig-paren">(</span><em class="sig-param">repo</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.cache_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.cache_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cache file for a given repository.</p>
</dd></dl>

<dl class="attribute">
<dt id="pkgcheck.base.CachedAddon.caches">
<code class="sig-name descname">caches</code><em class="property"> = {&lt;class 'pkgcheck.addons.ProfileAddon'&gt;: CacheData(type='profiles', file='profiles.pickle', version=2), &lt;class 'pkgcheck.git.GitAddon'&gt;: CacheData(type='git', file='git.pickle', version=3)}</em><a class="headerlink" href="#pkgcheck.base.CachedAddon.caches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.existing">
<em class="property">classmethod </em><code class="sig-name descname">existing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of all existing cache types to file paths.</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.remove_caches">
<em class="property">classmethod </em><code class="sig-name descname">remove_caches</code><span class="sig-paren">(</span><em class="sig-param">options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.remove_caches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.remove_caches" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all or selected caches.</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.update_cache">
<code class="sig-name descname">update_cache</code><span class="sig-paren">(</span><em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.update_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.update_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Update related cache and push updates to disk.</p>
</dd></dl>

<dl class="method">
<dt id="pkgcheck.base.CachedAddon.update_caches">
<em class="property">static </em><code class="sig-name descname">update_caches</code><span class="sig-paren">(</span><em class="sig-param">options</em>, <em class="sig-param">addons</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#CachedAddon.update_caches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.CachedAddon.update_caches" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all known caches.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.ProgressManager">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">ProgressManager</code><span class="sig-paren">(</span><em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#ProgressManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.ProgressManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">contextlib.AbstractContextManager</span></code></p>
<p>Context manager for handling progressive output.</p>
<p>Useful for updating the user about the status of a long running process.</p>
</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.Scope">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">Scope</code><span class="sig-paren">(</span><em class="sig-param">desc</em>, <em class="sig-param">level</em>, <em class="sig-param">attrs=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generic scope for scans, checks, and results.</p>
</dd></dl>

<dl class="class">
<dt id="pkgcheck.base.Whitelist">
<em class="property">class </em><code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">Whitelist</code><span class="sig-paren">(</span><em class="sig-param">patterns</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Whitelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Whitelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pkgcheck.base._CheckSet</span></code></p>
<p>Only run checks matching one of the provided patterns.</p>
<dl class="method">
<dt id="pkgcheck.base.Whitelist.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param">checks</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#Whitelist.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.Whitelist.filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pkgcheck.base.convert_check_filter">
<code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">convert_check_filter</code><span class="sig-paren">(</span><em class="sig-param">tok</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#convert_check_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.convert_check_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an input string into a filter function.</p>
<p>The filter function accepts a qualified python identifier string
and returns a bool.</p>
<p>The input can be a regexp or a simple string. A simple string must
match a component of the qualified name exactly. A regexp is
matched against the entire qualified name.</p>
<p>Matches are case-insensitive.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">convert_check_filter</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)(</span><span class="s1">&#39;a.foo.b&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="n">convert_check_filter</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)(</span><span class="s1">&#39;a.foobar&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="n">convert_check_filter</span><span class="p">(</span><span class="s1">&#39;foo.*&#39;</span><span class="p">)(</span><span class="s1">&#39;a.foobar&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="n">convert_check_filter</span><span class="p">(</span><span class="s1">&#39;foo.*&#39;</span><span class="p">)(</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pkgcheck.base.filter_update">
<code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">filter_update</code><span class="sig-paren">(</span><em class="sig-param">objs</em>, <em class="sig-param">enabled=()</em>, <em class="sig-param">disabled=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#filter_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.filter_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a given list of check or result types.</p>
</dd></dl>

<dl class="function">
<dt id="pkgcheck.base.param_name">
<code class="sig-prename descclassname">pkgcheck.base.</code><code class="sig-name descname">param_name</code><span class="sig-paren">(</span><em class="sig-param">cls</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pkgcheck/base.html#param_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pkgcheck.base.param_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Restructure class names for injected parameters.</p>
<p>For example, GitAddon -&gt; git_addon and GitCache -&gt; git_cache.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/pkgcheck.base.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pkgcheck master documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2019, pkgcheck contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>